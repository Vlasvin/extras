"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[166],{8166:function(e,r,t){t.r(r),t.d(r,{default:function(){return z}});var n=t(9379),i=t(675),s=t(467),a=t(5544),o=t(5043),l=t(4117),u=t(7316),d=t(4858),m=t(8403),c=t(9252),f=t(6446),p=t(5865),x=t(6546),A=t(4056),h=t(8903),y=t(1379),j=t(1787),v=t(7392),g=t(1906),w=t(3632),q=t(3559),_=t(6241),b=t(9859),k=t(6625),S=t(3737),Y={root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"20px",paddingTop:0,paddingBottom:"200px"}},I=t(8684),N=t(579),z=function(){var e=(0,l.Bd)().t,r=(0,k.A)(),t=(0,S.M)().setLoading,z=(0,o.useState)(!0),P=(0,a.A)(z,2),C=P[0],T=P[1],W=(0,o.useState)(null),B=(0,a.A)(W,2),F=B[0],K=B[1],L=(0,o.useState)(null),X=(0,a.A)(L,2),D=X[0],E=X[1],M=(0,o.useState)(!1),O=(0,a.A)(M,2),R=O[0],U=O[1],V=(0,d.mN)({resolver:(0,m.t)(C?I.X5:I.zK),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""}}),G=V.control,H=V.handleSubmit,J=V.reset,Q=V.formState.errors,Z=(0,_.zh)({delay:2,duration:2,from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}});if(!r)return null;var $=r||{},ee=$.login,re=$.register,te=function(){var r=(0,s.A)((0,i.A)().mark((function r(n){var s,a,o;return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===t||void 0===t||t(!0),r.prev=1,!C){r.next=9;break}return r.next=5,u.A.post("".concat("https://extras-backend.onrender.com","/auth/login"),n);case 5:s=r.sent,ee(s.data.token,s.data.user),r.next=11;break;case 9:return r.next=11,re(n);case 11:J(),T(!0),K(null),E(null),r.next=23;break;case 17:r.prev=17,r.t0=r.catch(1),a=r.t0,"User with this email does not exist"===(o=a.response?a.response.data.message:a.message)?K(e("auth.user_not_found")):"Invalid credentials"===o?E(e("auth.invalid_password")):(K(null),E(null)),console.error("Error:",o);case 23:return r.prev=23,null===t||void 0===t||t(!1),r.finish(23);case 26:case"end":return r.stop()}}),r,null,[[1,17,23,26]])})));return function(e){return r.apply(this,arguments)}}(),ne=function(){U(!R)};return(0,N.jsx)(_.CS.div,{style:Z,children:(0,N.jsx)(c.A,{style:Y.root,children:(0,N.jsxs)(f.A,{sx:{maxWidth:400,mx:"auto",textAlign:"center"},children:[(0,N.jsx)(p.A,{variant:"h4",gutterBottom:!0,children:e(C?"auth.login":"auth.register")}),(0,N.jsxs)(x.A,{value:C?0:1,onChange:function(e,r){T(0===r),K(null),E(null)},centered:!0,sx:{marginBottom:2},children:[(0,N.jsx)(A.A,{label:e("auth.login")}),(0,N.jsx)(A.A,{label:e("auth.register")})]}),(0,N.jsx)("form",{onSubmit:H(te),children:(0,N.jsxs)(h.Ay,{container:!0,spacing:2,children:[!C&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Ay,{item:!0,xs:12,children:(0,N.jsx)(d.xI,{name:"firstName",control:G,render:function(r){var t=r.field;return(0,N.jsx)(y.A,(0,n.A)((0,n.A)({label:e("auth.first_name"),fullWidth:!0},t),{},{error:!!(0,b.u)(Q,"firstName"),helperText:(0,b.u)(Q,"firstName")}))}})}),(0,N.jsx)(h.Ay,{item:!0,xs:12,children:(0,N.jsx)(d.xI,{name:"lastName",control:G,render:function(r){var t=r.field;return(0,N.jsx)(y.A,(0,n.A)((0,n.A)({label:e("auth.last_name"),fullWidth:!0},t),{},{error:!!(0,b.u)(Q,"lastName"),helperText:(0,b.u)(Q,"lastName")}))}})})]}),(0,N.jsx)(h.Ay,{item:!0,xs:12,children:(0,N.jsx)(d.xI,{name:"email",control:G,render:function(r){var t=r.field;return(0,N.jsx)(y.A,(0,n.A)((0,n.A)({label:e("auth.email"),fullWidth:!0},t),{},{error:!!(0,b.u)(Q,"email")||!!F,helperText:(0,b.u)(Q,"email")||F}))}})}),(0,N.jsx)(h.Ay,{item:!0,xs:12,children:(0,N.jsx)(d.xI,{name:"password",control:G,render:function(r){var t=r.field;return(0,N.jsx)(y.A,(0,n.A)((0,n.A)({label:e("auth.password"),type:R?"text":"password",fullWidth:!0},t),{},{error:!!(0,b.u)(Q,"password")||!!D,helperText:(0,b.u)(Q,"password")||D,InputProps:{endAdornment:(0,N.jsx)(j.A,{position:"end",children:(0,N.jsx)(v.A,{onClick:ne,edge:"end",children:R?(0,N.jsx)(w.A,{style:{fontSize:18}}):(0,N.jsx)(q.A,{style:{fontSize:18}})})})}}))}})}),!C&&(0,N.jsx)(h.Ay,{item:!0,xs:12,children:(0,N.jsx)(d.xI,{name:"confirmPassword",control:G,render:function(r){var t=r.field;return(0,N.jsx)(y.A,(0,n.A)((0,n.A)({label:e("auth.confirm_password"),type:R?"text":"password",fullWidth:!0},t),{},{error:!!(0,b.u)(Q,"confirmPassword"),helperText:(0,b.u)(Q,"confirmPassword"),InputProps:{endAdornment:(0,N.jsx)(j.A,{position:"end",children:(0,N.jsx)(v.A,{onClick:ne,edge:"end",children:R?(0,N.jsx)(w.A,{style:{fontSize:18}}):(0,N.jsx)(q.A,{style:{fontSize:18}})})})}}))}})}),(0,N.jsx)(h.Ay,{item:!0,xs:12,children:(0,N.jsx)(g.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:e(C?"auth.login":"auth.register")})})]})})]})})})}},9859:function(e,r,t){t.d(r,{u:function(){return i}});var n=t(4765),i=function(e,r){var t,i,s=r.split("."),a=e,o=(0,n.A)(s);try{for(o.s();!(i=o.n()).done;){var l=i.value;if(!a[l])return;a=a[l]}}catch(u){o.e(u)}finally{o.f()}return null!==(t=a)&&void 0!==t&&t.message?String(a.message):void 0}},8684:function(e,r,t){t.d(r,{PI:function(){return l},X5:function(){return s},zK:function(){return a}});var n=t(899),i=t(4978),s=n.Ik({email:n.Yj().email(i.Ay.t("email.invalid")).required(i.Ay.t("email.required")),password:n.Yj().min(6,i.Ay.t("password.min")).required(i.Ay.t("password.required"))}),a=n.Ik({firstName:n.Yj().required(i.Ay.t("firstName")),lastName:n.Yj().required(i.Ay.t("lastName")),email:n.Yj().email(i.Ay.t("email.invalid")).required(i.Ay.t("email.required")),password:n.Yj().min(6,i.Ay.t("password.min")).required(i.Ay.t("password.required")),confirmPassword:n.Yj().oneOf([n.KR("password"),void 0],i.Ay.t("password.confirm")).required(i.Ay.t("confirmPassword"))}),o=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],l=n.Ik().shape({name:n.Yj().required(i.Ay.t("form.errors.name_required")),phone:n.Yj().required(i.Ay.t("form.errors.phone_required")),email:n.Yj().email(i.Ay.t("form.errors.email_invalid")).required(i.Ay.t("form.errors.email_required")),language:n.Yj().required(i.Ay.t("form.errors.language_required")),message:n.Yj().required(i.Ay.t("form.errors.message_required")),file:n.gl().required(i.Ay.t("form.errors.file_required")).test("fileSize",i.Ay.t("form.errors.file_size"),(function(e){var r;return!!(e&&e instanceof FileList)&&(null===(r=e[0])||void 0===r?void 0:r.size)<=10485760})).test("fileType",i.Ay.t("form.errors.file_type"),(function(e){var r;return!!(e&&e instanceof FileList)&&o.includes(null===(r=e[0])||void 0===r?void 0:r.type)}))})}}]);
//# sourceMappingURL=166.90cc48f0.chunk.js.map